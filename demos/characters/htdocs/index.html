<!DOCTYPE html>
<html>
<head>
    <title>Dataset Character Demo</title>
    <style>
        body {
            font-family: arial, sans;
        }
        dt {
            font-family: courier;
            padding-bottom: 0.24em;
        }
        dd {
            padding-bottom: 0.24em;
        }
    </style>
</head>
<body>
<header><h1>Dataset Character Demo</h1><h2>search results</h2></header>
<nav>
<ul>
    <li><a href="/">Home</a></li>
</ul>
</nav>

<section>
<p>
Welcome to the Dataset Character Demo for <a href="https://github.com/caltechlibrary/dataset">Dataset</a>. 
Caltech Library's JSON document store. This demo seeds a dataset collection from a simple CSV file called 
<a href="characters.csv">characters.csv</a>.  It contains three columns &mdash; name, title and year. 
Where the name is a character name, the title is the name of the story they appear in and year is
the year the story was released by ZBS.  The rows are convert to JSON objects using `dataset import htdocs/characters.csv` 
and index with the definition <a href="characters.json">characters.json</a>.
The web interface is built from this HTML file as well as <a href="search.tmpl">search.tmpl</a>.

<p>
Story by search for <em>Jack Flanders</em>. That is a name that appears in two columns in the table we imported.
It will give you a sense of layout of the records. Try changing the sort or and finally play with the simple
fielded search values described at <a href="http://www.blevesearch.com/docs/Query-String-Query/">Blevesearch</a>'s
documentation site. The three fields in the index are <em>name</em>, <em>title</em>, and <em>year</em>.</p>

<p>
<form class="search-form" method="get" action="/api">
<input type="hidden" name="highlight" value="true">
<input type="hidden" name="size" value="5">
<input type="hidden" name="fields" value="name,title,year">
<input type="hidden" name="sort" value="title,name,year">
<div><label>Search</label> <input id="q-term" type="text" name="q" value="" placeholder="Enter a query"></div>
<div>
    <label>Sort By</label>
    <select name="sort">
        <option value="">Relevance</option>
        <option value="name,title,year">Name, Title, Year</option>
        <option value="title,name,year">Title, Name, Year</option>
        <option value="year,title,name">Year, Title, Name</option>
        <option value="year,name,title">Year, Name, Title</option>
        <option value="name,year,title">Name, Year, Title</option>
    </select>
</div>
<div><input id="submit-query" type="submit" value="Go"></div>
</form>
</section>
<script>
(function(document, window) {
    "strict";
    var submit = document.getElementById('submit-query'),
        qTerm = document.getElementById('q-term');

    /*
    submit.addEventListener('click', function (evt) {
        var val = qTerm.value;
        val = encodeURIComponent(val);
        alert("wait to submit ["+val+"]");
    }, false);
    */
}(document, window));
</script>
</body>
</html>
