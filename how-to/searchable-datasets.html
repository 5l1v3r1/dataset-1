<!DOCTYPE html>
<html>
<head>
    <title>Caltech Library's Digital Library Development Sandbox</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
<li><a href="/">Home</a></li>
<li><a href="../">Up</a></li>
<li><a href="../">README</a></li>
<li><a href="../license.html">LICENSE</a></li>
<li><a href="../install.html">INSTALL</a></li>
<li><a href="../docs/">Documentation</a></li>
<li><a href="./">How To</a></li>
<li><a href="https://github.com/caltechlibrary/dataset">Github</a></li>
</ul>

</nav>

<section>
<h1>Searchable Datasets</h1>

<p>The <em>dataset</em> tool provides <em>dataset indexer</em> and <em>dataset find</em>. Together
they implement indexing and search for a dataset collection. The index and search features
are based built on <a href="https://www.blevesearch.com">Bleve</a> search engine. Depending on how your define your
index(es) search can provide a effective means of exploring and aggregating your
collection (or collections).</p>

<h2>How to build an index</h2>

<p>In the example the index will be created for a collection called <em>characters.ds</em>.</p>

<pre><code class="language-shell">    dataset characters.ds indexer email-mapping.json email-index
</code></pre>

<p>This will build a Bleve index called &ldquo;email-index&rdquo; based on the index defined
in &ldquo;email-mapping.json&rdquo; (more on mapping indexes at <a href="../docs/defining-indexes.html">docs/defining-indexes.md</a>).</p>

<p>You can build multiple indexes by having multiple index definitions. For large
JSON documents with lots of text this may let you more efficiently create the indexes.
Indexes and be aggregated together using <em>find</em>.</p>

<h2>Searching an index</h2>

<p>In this example we have already indexes a collection called &ldquo;characters.ds&rdquo;. The
index name in <em>characters.bleve</em> which we will use for searching.</p>

<pre><code class="language-shell">    dataset find characters.bleve &quot;Jack Flanders&quot;
</code></pre>

<p>This would search the Bleve index named <em>characters.bleve</em> for the string &ldquo;Jack Flanders&rdquo;
returning records that matched based on how the index was defined.</p>

<h2>How to search across multiple indexes</h2>

<p>Let&rsquo;s say you have created an index called <em>audiodramas.bleve</em>. That index also includes
information about characters, scenes, etc.  If you want to search both <em>characters.bleve</em>
and <em>audiodramas.bleve</em> separate them a colon and include both with your <em>find</em> command.</p>

<pre><code class="language-shell">    dataset find 'characters.bleve:audiodramas.bleve' &quot;Jack Flanders&quot;
</code></pre>

</section>

<footer>
<span><h1><A href="https://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2018 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
