<!DOCTYPE html>
<html>
<head>
    <title>Caltech Library's Digital Library Development Sandbox</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<header>
<a href="https://library.caltech.edu"><img src="/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
<li><a href="/">Home</a></li>
<li><a href="../">README</a></li>
<li><a href="license.html">LICENSE</a></li>
<li><a href="install.html">INSTALL</a></li>
<li><a href="docs/">Documentation</a></li>
<li><a href="how-to/">How To</a></li>
<li><a href="https://github.com/caltechlibrary/dataset">Github</a></li>
</ul>

</nav>

<section>
<h1>dataset   <a href="https://data.caltech.edu/badge/latestdoi/79394591"><img src="https://data.caltech.edu/badge/79394591.svg" alt="DOI" /></a></h1>

<p><em>dataset</em> is a command line tool, go package and python package you can use to manage
<a href="https://en.wikipedia.org/wiki/JSON">JSON</a> objects stored on local disc or in the cloud
(e.g. Amazon S3 and Google Cloud Storage). It stores the JSON objects in collections as plain
UTF-8 text. This means the objects can be accessed with common Unix text processing tools as well as
most programming languages with text processing support. The <a href="docs/dataset.html">dataset</a>
command line tool supports common data manage operations such as initialization of collections,
creation, reading, updating and delete JSON objects in the collection. Some of its enhanced
features include the ability to import and export JSON object to and from CSV files,
Excel Workbook sheets and Google Sheets. It supports key filter and sorting as well as
mapping collection content into <a href="docs/grids.html">grids</a> and data <a href="docs/frames.html">frames</a>.
It even includes an experimental search feature by the integrating <a href="https://blevesearch.com">Blevesearch</a>
indexing and search engine library developed by [CouchDB]().</p>

<p>See <a href="how-to/getting-started-with-dataset.html">getting-started-with-datataset.md</a> for a tour of functionality.</p>

<h2>Origin story</h2>

<p>The inspiration for creating <em>dataset</em> was the desire to process metadata as JSON object collections
using simple Unix shell utilities and data pipelines. The core use case evolved at <a href="https://library.caltech.edu">Caltech Library</a>
working with various repository systems&rsquo; API (e.g. <a href="https://en.wikipedia.org/wiki/EPrints">EPrints</a> and
and <a href="https://en.wikipedia.org/wiki/Invenio">Invenio</a>). It has allowed
the library to easily build aggregated views of hetrogeious content (see <a href="https://feeds.library.caltech.edu">https://feeds.library.caltech.edu</a>)
as well as facilitate ad-hoc analysis and data enhancement for a number of internal library projects.</p>

<h2>Design choices</h2>

<p><em>dataset</em> isn&rsquo;t a database or repository system. It is intended to be simplier and easier to use with
minimal setup (e.g. <code>dataset init mycollection.ds</code> would create a new collection).  It built around a few simple
abstractions (e.g. dataset stores JSON objects in collections, collections are a folder containing a JSON
file called collections.json and buckets containing the JSON objects and any attachments, the collections.json
file describes the mapping of keys to buckets).  It takes minimal system resources
and keeps all content, except JSON object attachments, in plain UTF-8 text (attachments are kept in tar files).
In the typcial library processing pattern of &ldquo;harvest&rdquo;, &ldquo;transform&rdquo; and &ldquo;redeploy&rdquo; dataset provides a convienent
way to store intermediate results in a data processing pipeline.</p>

<p>Care has been taken to keep <em>dataset</em> simple enough and light weight enough that it will run on a machine
as small as a Raspberry Pi while being equally comformatable on a more resource rich server or desktop
environment.</p>

<p>Currently dataset provides a command line tool called <code>dataset</code> as well as a Go package and Python 3.6 Package.
It can be integrated into other programming languages that provide support for C shared libraries. <em>dataset</em>
itself is written in <a href="https://golang.org">Go</a>.</p>

<h2>Features</h2>

<p><a href="docs/dataest">dataset</a> supports</p>

<ul>
<li>Basic storage actions (<a href="docs/create.html">create</a>, <a href="docs/read.html">read</a>, <a href="docs/update.html">update</a> and <a href="docs/delete.html">delete</a>)</li>
<li>listing of collection <a href="docs/keys.html">keys</a> (including filtering and sorting)</li>
<li>import/export  of <a href="how-to/import-csv-rows-as-json-documents.html">CSV</a> files, Excel Workbook sheets and <a href="how-to/gsheet-integration.html">Google Sheets</a></li>
<li>An experimental full text <a href="how-to/searchable-datasets.html">search</a> interface based on <a href="https://blevesearch.com">Blevesearch</a></li>
<li>The ability to reshape data by performing simple object <a href="docs/join.html">joins</a></li>
<li>The ability to create data <a href="docs/grid.html">grids</a> and <a href="docs/frame.html">frames</a> from collections based
on keys lists and <a href="docs/dotpath.html">dot paths</a> into the JSON objects stored</li>
</ul>

<p>You can work with dataset collections via the <a href="docs/dataset.html">command line tool</a>, via Go using the
<a href="https://godoc.org/github.com/caltechlibrary/dataset">dataset package</a> or in
Python 3.6 using a python package.  <em>dataset</em> is useful for general data science applications which
need intermediate JSON object storage but not a full blown database.</p>

<h3>Limitations of <em>dataset</em></h3>

<p><em>dataset</em> has many limitations, some are listed below</p>

<ul>
<li>it is not a multi-process, multi-user data store (it&rsquo;s just files on disc without any locking)</li>
<li>it is not a repository management system</li>
<li>it is not a general purpose multiuser database system</li>
<li>it does not supply version control on collections or objects (though integrating it with git
or mercurial is trivial)</li>
</ul>

<h2>Example</h2>

<p>Below is a simple example of shell based interactoin with dataset colletions using the command line
dataset tool.</p>

<pre><code class="language-shell">    # Create a collection &quot;mystuff.ds&quot;, the &quot;.ds&quot; lets the bin/dataset command know that's the collection to use. 
    bin/dataset mystuff.ds init
    # if successful then you should see an OK otherwise an error message

    # Create a JSON document 
    bin/dataset mystuff.ds create freda '{&quot;name&quot;:&quot;freda&quot;,&quot;email&quot;:&quot;freda@inverness.example.org&quot;}'
    # If successful then you should see an OK otherwise an error message

    # Read a JSON document
    bin/dataset mystuff.ds read freda
    
    # Path to JSON document
    bin/dataset mystuff.ds path freda

    # Update a JSON document
    bin/dataset mystuff.ds update freda '{&quot;name&quot;:&quot;freda&quot;,&quot;email&quot;:&quot;freda@zbs.example.org&quot;, &quot;count&quot;: 2}'
    # If successful then you should see an OK or an error message

    # List the keys in the collection
    bin/dataset mystuff.ds keys

    # Get keys filtered for the name &quot;freda&quot;
    bin/dataset mystuff.ds keys '(eq .name &quot;freda&quot;)'

    # Join freda-profile.json with &quot;freda&quot; adding unique key/value pairs
    bin/dataset mystuff.ds join append freda freda-profile.json

    # Join freda-profile.json overwriting in commont key/values adding unique key/value pairs
    # from freda-profile.json
    bin/dataset mystuff.ds join overwrite freda freda-profile.json

    # Delete a JSON document
    bin/dataset mystuff.ds delete freda

    # Import data from a CSV file using column 1 as key
    bin/dataset -quiet -nl=false mystuff.ds import-csv my-data.csv 1

    # To remove the collection just use the Unix shell command
    rm -fR mystuff.ds
</code></pre>

<h2>Releases</h2>

<p>Compiled versions are provided for Linux (amd64), Mac OS X (amd64), Windows 10 (amd64) and Raspbian (ARM7).
See <a href="https://github.com/caltechlibrary/dataset/releases">https://github.com/caltechlibrary/dataset/releases</a>.</p>

</section>

<footer>
<span><h1><A href="https://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2018 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address> 
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
